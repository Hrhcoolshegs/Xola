@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    @apply antialiased text-gray-800;
  }
}

@layer components {
  .responsive-table {
    @apply w-full;
  }
  
  @media (max-width: 768px) {
    .responsive-table thead {
      @apply hidden;
    }
    
    .responsive-table tr {
      @apply block border-b;
    }
    
    .responsive-table td {
      @apply block text-right pl-[50%] relative;
    }
    
    .responsive-table td::before {
      @apply content-[attr(data-label)] absolute left-0 w-[45%] pl-4 font-medium text-left text-gray-700;
    }
  }
}

/* Print styles */
@media print {
  @page {
    margin: 2cm;
  }
  
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .print\:hidden {
    display: none !important;
  }
  
  .print\:break-before-page {
    break-before: page;
  }
  
  .print\:break-after-page {
    break-after: page;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Treatment Visualizer Animation */
@keyframes progress {
  0% {
    width: 0%;
  }
  50% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}

/* Consistent Form Styles */
.form-input {
  @apply w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0073b9] focus:border-transparent transition-colors;
}

.form-select {
  @apply w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0073b9] focus:border-transparent transition-colors appearance-none bg-white;
}

.form-checkbox {
  @apply h-4 w-4 text-[#0073b9] border-gray-300 rounded focus:ring-[#0073b9] transition-colors;
}

.form-radio {
  @apply h-4 w-4 text-[#0073b9] border-gray-300 focus:ring-[#0073b9] transition-colors;
}

/* Card Hover Effects */
.hover-card {
  @apply transition-all duration-200 hover:shadow-md hover:border-[#0073b9]/20;
}

/* Button Loading State */
.btn-loading {
  @apply relative text-transparent transition-none hover:text-transparent;
}

.btn-loading::after {
  @apply absolute inset-0 flex items-center justify-center text-white;
  content: '';
  border: 2px solid;
  border-top-color: transparent;
  border-radius: 50%;
  width: 1.2em;
  height: 1.2em;
  animation: button-loading-spinner 0.75s linear infinite;
}

@keyframes button-loading-spinner {
  from {
    transform: rotate(0turn);
  }
  to {
    transform: rotate(1turn);
  }
}

/* Toast Animations */
.toast-enter {
  @apply transform translate-x-full opacity-0;
}

.toast-enter-active {
  @apply transform translate-x-0 opacity-100 transition-all duration-300;
}

.toast-exit {
  @apply transform translate-x-0 opacity-100;
}

.toast-exit-active {
  @apply transform translate-x-full opacity-0 transition-all duration-300;
}

/* Mobile Navigation */
.mobile-nav {
  @apply fixed inset-0 z-50 transform transition-transform duration-300 ease-in-out lg:hidden;
}

.mobile-nav.open {
  @apply translate-x-0;
}

.mobile-nav.closed {
  @apply -translate-x-full;
}

/* Responsive Grid Layouts */
.responsive-grid {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
}

/* Focus Styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-[#0073b9] focus:ring-offset-2 focus:ring-offset-white;
}

/* Skeleton Loading */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

.skeleton-text {
  @apply h-4 bg-gray-200 rounded;
}

.skeleton-circle {
  @apply h-12 w-12 bg-gray-200 rounded-full;
}

/* Tooltip */
.tooltip {
  @apply invisible absolute z-10 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg opacity-0 tooltip shadow-sm transition-opacity duration-300;
}

.has-tooltip:hover .tooltip {
  @apply visible opacity-100;
}

/* Status Indicators */
.status-dot {
  @apply relative flex h-3 w-3;
}

.status-dot::before {
  @apply absolute inline-flex h-full w-full animate-ping rounded-full opacity-75;
  content: '';
}

.status-dot::after {
  @apply relative inline-flex h-3 w-3 rounded-full;
  content: '';
}

.status-dot.active::before {
  @apply bg-green-400;
}

.status-dot.active::after {
  @apply bg-green-500;
}

.status-dot.warning::before {
  @apply bg-yellow-400;
}

.status-dot.warning::after {
  @apply bg-yellow-500;
}

.status-dot.error::before {
  @apply bg-red-400;
}

.status-dot.error::after {
  @apply bg-red-500;
}