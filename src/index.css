@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    @apply antialiased text-gray-800;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-primary-900;
  }
}

@layer components {
  .responsive-table {
    @apply w-full;
  }
  
  @media (max-width: 768px) {
    .responsive-table thead {
      @apply hidden;
    }
    
    .responsive-table tr {
      @apply block border-b;
    }
    
    .responsive-table td {
      @apply block text-right pl-[50%] relative;
    }
    
    .responsive-table td::before {
      @apply content-[attr(data-label)] absolute left-0 w-[45%] pl-4 font-medium text-left text-gray-700;
    }
  }

  .btn-primary {
    @apply bg-gradient-primary text-white hover:shadow-lg transition-all duration-300;
  }

  .btn-accent {
    @apply bg-gradient-accent text-white hover:shadow-lg transition-all duration-300;
  }

  .btn-tertiary {
    @apply bg-gradient-tertiary text-white hover:shadow-lg transition-all duration-300;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300;
  }

  .input-field {
    @apply border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300;
  }

  .badge {
    @apply px-2 py-1 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-800;
  }

  .badge-accent {
    @apply bg-accent-100 text-accent-800;
  }

  .badge-tertiary {
    @apply bg-tertiary-100 text-tertiary-800;
  }
}

/* Print styles */
@media print {
  @page {
    margin: 2cm;
  }
  
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  .print\:hidden {
    display: none !important;
  }
  
  .print\:break-before-page {
    break-before: page;
  }
  
  .print\:break-after-page {
    break-after: page;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-400;
}

/* Treatment Visualizer Animation */
@keyframes progress {
  0% { width: 0%; }
  50% { width: 100%; }
  100% { width: 0%; }
}

/* Consistent Form Styles */
.form-input {
  @apply w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300;
}

.form-select {
  @apply w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300 appearance-none bg-white;
}

.form-checkbox {
  @apply h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary transition-all duration-300;
}

.form-radio {
  @apply h-4 w-4 text-primary border-gray-300 focus:ring-primary transition-all duration-300;
}

/* Card Hover Effects */
.hover-card {
  @apply transition-all duration-300 hover:shadow-lg hover:border-primary/20;
}

/* Button Loading State */
.btn-loading {
  @apply relative text-transparent transition-none hover:text-transparent;
}

.btn-loading::after {
  @apply absolute inset-0 flex items-center justify-center text-white;
  content: '';
  border: 2px solid;
  border-top-color: transparent;
  border-radius: 50%;
  width: 1.2em;
  height: 1.2em;
  animation: button-loading-spinner 0.75s linear infinite;
}

@keyframes button-loading-spinner {
  from { transform: rotate(0turn); }
  to { transform: rotate(1turn); }
}

/* Toast Animations */
.toast-enter {
  @apply transform translate-x-full opacity-0;
}

.toast-enter-active {
  @apply transform translate-x-0 opacity-100 transition-all duration-300;
}

.toast-exit {
  @apply transform translate-x-0 opacity-100;
}

.toast-exit-active {
  @apply transform translate-x-full opacity-0 transition-all duration-300;
}

/* Mobile Navigation */
.mobile-nav {
  @apply fixed inset-0 z-50 transform transition-transform duration-300 ease-in-out lg:hidden;
}

.mobile-nav.open {
  @apply translate-x-0;
}

.mobile-nav.closed {
  @apply -translate-x-full;
}

/* Responsive Grid Layouts */
.responsive-grid {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
}

/* Focus Styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-white;
}

/* Skeleton Loading */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

.skeleton-text {
  @apply h-4 bg-gray-200 rounded;
}

.skeleton-circle {
  @apply h-12 w-12 bg-gray-200 rounded-full;
}

/* Tooltip */
.tooltip {
  @apply invisible absolute z-10 px-3 py-2 text-sm font-medium text-white bg-primary rounded-lg opacity-0 shadow-sm transition-all duration-300;
}

.has-tooltip:hover .tooltip {
  @apply visible opacity-100;
}

/* Status Indicators */
.status-dot {
  @apply relative flex h-3 w-3;
}

.status-dot::before {
  @apply absolute inline-flex h-full w-full animate-ping rounded-full opacity-75;
  content: '';
}

.status-dot::after {
  @apply relative inline-flex h-3 w-3 rounded-full;
  content: '';
}

.status-dot.active::before {
  @apply bg-semantic-success;
}

.status-dot.active::after {
  @apply bg-semantic-success;
}

.status-dot.warning::before {
  @apply bg-semantic-warning;
}

.status-dot.warning::after {
  @apply bg-semantic-warning;
}

.status-dot.error::before {
  @apply bg-semantic-error;
}

.status-dot.error::after {
  @apply bg-semantic-error;
}